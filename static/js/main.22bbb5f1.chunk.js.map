{"version":3,"sources":["images/not_found.svg","images/close_button.svg","images/logo.svg","images/delete_button.svg","images/pen.svg","images/edit__button.svg","images/add__button.svg","images/гора_эльбрус.jpg","images/good_registration.svg","images/bad_registration.svg","utils/Api.js","utils/Utils.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/MyProfile.js","auth.js","components/LoginForm.js","components/Login.js","components/InfoTooltip.js","components/Register.js","components/ProtectedRoute.js","components/App.js","index.js"],"names":["module","exports","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","Error","status","url","fetch","authorization","then","_getResponseData","_get","name","about","method","body","JSON","stringify","link","cardId","_updateCardLike","avatar","Header","className","href","src","logoPath","alt","props","userEmail","to","onClick","handleLogout","title","React","Component","withRouter","CurrentUserContext","createContext","Card","onImageNotFound","evt","target","onerror","notFoundImagePath","onCardClick","card","handleLikeClick","onCardLike","handleDeleteClick","onCardDelete","isOwnCard","owner","_id","context","isOwnLike","likes","find","like","key","onError","aria-label","type","length","deleteButtonPath","contextType","Main","penPath","onEditAvatar","onEditProfile","editButtonPath","onAddPlace","addButtonPath","cards","map","currentUserId","Footer","PopupWithForm","isOpen","action","noValidate","onSubmit","children","isSubmitActive","buttonName","onClose","closeButtonPath","EditProfilePopup","currentUser","useContext","useState","setName","description","setDescription","useEffect","event","preventDefault","onUpdateUser","id","required","minLength","maxLength","pattern","placeholder","onChange","value","EditAvatarPopup","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","onUpdatePlace","ImagePopup","MyProfile","handleCardLike","state","dislikeCard","likeCard","newCard","newCards","c","setState","handleCardDelete","deleteCard","filter","catch","err","console","log","handleAddPlaceSubmit","addNewCard","closeAllPopups","handleUpdateUser","updateUserInfo","user","createDefaultUser","handleUpdateAvatar","updateUserAvatar","handleEditAvatarClick","isEditAvatarPopupOpen","handleEditProfileClick","isEditProfilePopupOpen","handleAddPlaceClick","isAddPlacePopupOpen","handleCardClick","selectedCard","FakeAvatarPath","getInitialCards","getUserInfo","Provider","BASE_URL","getResponseData","LoginForm","Login","username","password","handleChange","bind","handleSubmit","e","email","localStorage","setItem","token","data","handleLogin","InfoTooltip","registered","goodRegistrationPath","badRegistrationPath","Register","handleGoodRegistration","handleBadRegistration","handleClose","isRegistrationPopupOpen","history","push","infoTooltipTitle","infoTooltipRegistered","ProtectedRoute","component","loggedIn","App","handleTokenCheck","removeItem","UserData","getItem","jwt","path","isSignInPopupOpen","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.22bbb5f1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/not_found.908c20cb.svg\";","module.exports = __webpack_public_path__ + \"static/media/close_button.5df32a06.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete_button.d8078343.svg\";","module.exports = __webpack_public_path__ + \"static/media/pen.d476a8b8.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit__button.b05083e5.svg\";","module.exports = __webpack_public_path__ + \"static/media/add__button.b2fce4ac.svg\";","module.exports = __webpack_public_path__ + \"static/media/гора_эльбрус.d6ed7639.jpg\";","module.exports = __webpack_public_path__ + \"static/media/good_registration.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/bad_registration.4072126c.svg\";","import { apiConfig } from './Utils.js'\n\nexport class API {\n  constructor (options) {\n    this._baseUrl = options.baseUrl\n    this._headers = options.headers\n  }\n\n  _getResponseData (res) {\n    if (res.ok) {\n      return res.json()\n    }\n    return Promise.reject(new Error(`Ошибка: ${res.status}`))\n  }\n\n  _get (url) {\n    return fetch(`${this._baseUrl}/${url}`, {\n      headers: {\n        authorization: this._headers.authorization\n      }\n    })\n      .then(this._getResponseData)\n  }\n\n  getUserInfo () {\n    return this._get('users/me')\n  }\n\n  getInitialCards () {\n    return this._get('cards')\n  }\n\n  updateUserInfo (name, about) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    })\n      .then(this._getResponseData)\n  }\n\n  addNewCard (name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n      .then(this._getResponseData)\n  }\n\n  _updateCardLike (cardId, method) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: method,\n      headers: {\n        authorization: this._headers.authorization\n      }\n    })\n      .then(this._getResponseData)\n  }\n\n  likeCard (cardId) {\n    return this._updateCardLike(cardId, 'PUT')\n  }\n\n  dislikeCard (cardId) {\n    return this._updateCardLike(cardId, 'DELETE')\n  }\n\n  deleteCard (cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._headers.authorization\n      }\n    })\n      .then(this._getResponseData)\n  }\n\n  updateUserAvatar (link) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: link\n      })\n    })\n      .then(this._getResponseData)\n  }\n}\n\nconst api = new API(apiConfig)\n\nexport default api\n","export const validationOptions = {\n  formSelector: '.form',\n  inputSelector: '.form__input',\n  submitButtonSelector: '.form__submit',\n  inactiveButtonClass: 'form__submit_inactive'\n}\n\nexport const apiConfig = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-12',\n  headers: {\n    authorization: 'f4b731d6-2118-4fcc-9305-6dde1beafd26',\n    'Content-Type': 'application/json'\n  }\n}\n","import React from 'react'\nimport logoPath from '../images/logo.svg'\nimport { withRouter, Link } from 'react-router-dom'\n\nclass Header extends React.Component {\n  render () {\n    return (\n      <header className=\"header\">\n        <a href=\"http://\"><img src={logoPath} className=\"header__logo\" alt=\"логотип Mesto\"/></a>\n        <div className=\"header__menu-container\">\n          <p className=\"header__user\">{this.props.userEmail}</p>\n          <Link to={this.props.link} onClick={this.props.handleLogout} className=\"header__menu\">{this.props.title}</Link>\n        </div>\n      </header>\n    )\n  }\n}\n\nexport default withRouter(Header)\n","import React from 'react'\n\nexport const CurrentUserContext = React.createContext()\n","import React from 'react';\nimport deleteButtonPath from '../images/delete_button.svg';\nimport notFoundImagePath from '../images/not_found.svg';\nimport { CurrentUserContext} from '../contexts/CurrentUserContext';\n\nclass Card extends React.Component {\n\n    static contextType = CurrentUserContext;\n\n    onImageNotFound = (evt) => {\n        evt.target.onerror = null;\n        evt.target.src = notFoundImagePath;\n    }\n\n    onCardClick = () => {\n        this.props.onCardClick(this.props.card);\n    }\n\n    handleLikeClick = () => {\n        this.props.onCardLike(this.props.card);\n    }\n\n    handleDeleteClick = () => {\n        this.props.onCardDelete(this.props.card);\n    }\n\n    render () {\n        const isOwnCard = this.props.card.owner._id === this.context._id;\n        const isOwnLike = this.props.card.likes.find((like) => like._id === this.context._id);\n        return (\n            <div className=\"elements__item\" key={this.props.card._id}>\n                        <img onError={this.onImageNotFound} onClick={this.onCardClick} className=\"elements__item-picture\" alt=\"Картинка\" src={this.props.card.link}></img>\n                        <div className=\"elements__item-info\">\n                            <h2 className=\"elements__item-title\">{this.props.card.name}</h2>\n                            <div className=\"elements__likes-container\">\n                                <button aria-label=\"like\" type=\"button\" onClick={this.handleLikeClick} className={`elements__heart-button  ${isOwnLike ?  \"elements__heart-button_active\" : '' }  `}>\n                                </button>\n                                <p className=\"elements__likes\">{this.props.card.likes ? this.props.card.likes.length : 0}</p>\n                            </div>\n                        </div>\n                        <button aria-label=\"delete\" type=\"button\" onClick={this.handleDeleteClick} className={`elements__delete-button ${!isOwnCard ? 'elements__delete-button_inactive' : ''}`} >\n                            <img src={deleteButtonPath} alt=\"Знак корзины\"></img>\n                        </button>\n            </div>\n        );\n    }\n}    \n\n\nexport default Card;\n","import React from 'react';\n\nimport Card from './Card';\n\nimport penPath from '../images/pen.svg';\nimport notFoundImagePath from '../images/not_found.svg';\nimport editButtonPath from '../images/edit__button.svg';\nimport addButtonPath from '../images/add__button.svg';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\n\nclass Main extends React.Component {\n  \n    static contextType = CurrentUserContext;\n\n    onImageNotFound = (evt) => {\n        evt.target.onerror = null;\n        evt.target.src = notFoundImagePath;\n    }\n\n\n    render () {\n        \n        return (\n            <main className=\"content\">\n                <section className=\"profile\">\n                    <div className=\"profile__info\">\n                        <div className=\"profile__avatar\">\n                            <img src={penPath} className=\"profile_active\" alt=\" Изменение аватарки\"></img>\n                            <img src={this.context && this.context.avatar} \n                                onError={this.onImageNotFound} \n                                onClick={this.props.onEditAvatar} \n                                className=\"profile__image\" alt=\"Аватар\"></img>\n                        </div>\n                        <div>\n                            <div className=\"profile__name-container\">\n                                <h1 className=\"profile__name\">{this.context && this.context.name}</h1>\n                                <button aria-label=\"edit\" type=\"button\" \n                                onClick={this.props.onEditProfile} \n                                className=\"profile__edit-button\">\n                                    <img src={editButtonPath} alt=\"Кнопка изменения\"></img>\n                                </button>\n                            </div>\n                                <p className=\"profile__profession\">{this.context && this.context.about}</p>\n                        </div>\n                    </div>\n                    <button aria-label=\"add\" type=\"button\"\n                    onClick={this.props.onAddPlace}\n                    className=\"profile__add-button\">\n                        <img src={addButtonPath} className=\"profile__add-button-image\" alt=\"Кнопка добавления\"></img>\n                    </button>\n                </section>\n\n                <section className=\"elements\">\n                \n                    {this.props.cards.map((card) => (\n                        <Card  card={card} currentUserId={this.context && this.context._id} key={card._id} onCardClick={this.props.onCardClick} onCardLike={this.props.onCardLike} onCardDelete={this.props.onCardDelete}/>\n                        )\n                    )}\n\n                </section>\n\n\n            </main>\n        );\n    }\n\n}\n\n\n\n\n\n\nexport default Main;\n","import React from 'react'\n\nfunction Footer () {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__info\">&copy; 2020. Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer\n","import React from 'react'\nimport closeButtonPath from '../images/close_button.svg'\n\nclass PopupWithForm extends React.Component {\n  render () {\n    return (\n\n      <section className={`popup popup_${this.props.name} ${this.props.isOpen ? 'popup_opened' : ''}`}>\n        <form name={`popup-${this.props.name}-form`} method=\"get\" action=\"#\" className=\"popup__container form\" noValidate onSubmit={this.props.onSubmit}>\n          <h2 className=\"popup__title\">{this.props.title}</h2>\n          {this.props.children}\n          <button type=\"submit\" className={`popup__button form__submit ${this.props.isSubmitActive ? '' : 'form__submit_inactive'}`}>{this.props.buttonName}</button>\n          <button aria-label=\"close\" type=\"button\" className=\"popup__close-button\" onClick={this.props.onClose} >\n            <img src={closeButtonPath} alt=\"Кнопка закрыть\" className=\"popup__close-button-image\"></img>\n          </button>\n        </form>\n      </section>\n\n    )\n  }\n}\n\nexport default PopupWithForm\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup (props) {\n  const currentUser = React.useContext(CurrentUserContext)\n  const [name, setName] = React.useState('')\n  const [description, setDescription] = React.useState('')\n\n  React.useEffect(() => {\n    setName(currentUser.name)\n    setDescription(currentUser.about)\n  }, [currentUser])\n\n  function handleNameChange (event) {\n    setName(event.target.value)\n  }\n\n  function handleDescriptionChange (event) {\n    setDescription(event.target.value)\n  }\n\n  function handleSubmit (event) {\n    event.preventDefault()\n    props.onUpdateUser({\n      name,\n      about: description\n    })\n  }\n\n  function onCloseProfilePopup () {\n    props.onClose()\n    setName(currentUser.name)\n    setDescription(currentUser.about)\n  }\n\n  return (\n    <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" buttonName=\"Сохранить\" isSubmitActive={true} isOpen={props.isOpen} onClose={onCloseProfilePopup} onSubmit={handleSubmit}>\n      <input id=\"name-input\" type=\"text\" required minLength=\"2\" maxLength=\"40\"\n        pattern=\"[A-Za-zА-Яа-яЁё\\s\\-]+$\" placeholder=\"Имя\"\n        className=\"popup__text popup__text_type_name form__input\"\n        onChange={handleNameChange}\n        value={name}></input>\n      <span id=\"name-input-error\" className=\"form__input-error\"></span>\n      <input id=\"profession-input\" type=\"text\" required minLength=\"2\" maxLength=\"200\"\n        pattern=\"[A-Za-zА-Яа-яЁё\\s\\-,]+$\" placeholder=\"О себе\"\n        className=\"popup__text popup__text_type_profession form__input\"\n        onChange={handleDescriptionChange}\n        value={description}></input>\n      <span id=\"profession-input-error\" className=\"form__input-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup (props) {\n  const avatar = React.useRef()\n\n  function handleSubmit (event) {\n    event.preventDefault()\n    props.onUpdateAvatar({\n      avatar: avatar.current.value\n    })\n  }\n\n  return (\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" buttonName=\"Сохранить\" isSubmitActive={true} isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <input id=\"url-input\" type=\"url\" required placeholder=\"Ссылка на аватар\"\n        className=\"popup__text popup__text_type_link form__input\"\n        ref={avatar}></input>\n      <span id=\"url-input-error\" className=\"form__input-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup (props) {\n  const [name, setName] = React.useState('')\n  const [link, setLink] = React.useState('')\n\n  function handleNameChange (event) {\n    setName(event.target.value)\n  }\n\n  function handlelinkChange (event) {\n    setLink(event.target.value)\n  }\n\n  function handleSubmit (event) {\n    event.preventDefault()\n    props.onUpdatePlace(\n      name,\n      link\n    )\n  }\n\n  function onCloseProfilePopup () {\n    props.onClose()\n    setName('')\n    setLink('')\n  }\n\n  return (\n    <PopupWithForm name=\"card\" title=\"Новое место\" buttonName=\"Сохранить\" isSubmitActive={true} isOpen={props.isOpen} onClose={onCloseProfilePopup} onSubmit={handleSubmit}>\n      <input id=\"picture-input\" type=\"text\" required minLength=\"1\" maxLength=\"30\" placeholder=\"Название\"\n        className=\"popup__text popup__text_type_picture form__input\" onChange={handleNameChange}></input>\n      <span id=\"picture-input-error\" className=\"form__input-error\"></span>\n      <input id=\"url-input\" type=\"url\" required placeholder=\"Ссылка на картинку\"\n        className=\"popup__text popup__text_type_link form__input\" onChange={handlelinkChange}></input>\n      <span id=\"url-input-error\" className=\"form__input-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n","import React from 'react';\nimport closeButtonPath from '../images/close_button.svg';\nimport notFoundImagePath from '../images/not_found.svg';\n\nclass ImagePopup extends React.Component {\n    \n    onImageNotFound = (evt) => {\n        evt.target.onerror = null;\n        evt.target.src = notFoundImagePath;\n    }\n    \n    render () {\n        return (\n            <section className={`popup popup_picture ${this.props.card ? \"popup_opened\" : \"\"}`}>\n                    <div className=\"popup__container popup__container_picture\">\n                        <img src={this.props.card !== null ? this.props.card.link : \"\" } onError={this.onImageNotFound}\n                            alt=\"картинка\" className=\"popup__image\"></img>\n                        <h2 className=\"popup__title popup__title_picture\">{this.props.card !== null ? this.props.card.name : \"\" }</h2>\n                        <button aria-label=\"close\" type=\"button\" className=\"popup__close-button\" onClick={this.props.onClose}>\n                            <img src={closeButtonPath} alt=\"Кнопка закрыть\" className=\"popup__close-button-image\"></img>\n                        </button>\n                    </div>\n                </section>\n        );\n    }\n}    \n\n\n\nexport default ImagePopup;","import React from 'react';\nimport api from '../utils/Api';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport { CurrentUserContext} from '../contexts/CurrentUserContext';\n\nimport FakeAvatarPath from '../images/гора_эльбрус.jpg';\n\nimport '../index.css';\n\nclass MyProfile extends React.Component {\n    static contextType = CurrentUserContext;\n\n    constructor(){\n        super();\n        this.state = {\n            isEditProfilePopupOpen: false,\n            isAddPlacePopupOpen: false,\n            isEditAvatarPopupOpen: false,\n            selectedCard: null,\n            currentUser: this.createDefaultUser(),\n            cards:[]\n        }\n    }\n\n\n    componentDidMount() {\n        api.getInitialCards()\n        .then(cards => {\n            this.setState({ cards: cards });\n        }).catch(err => {\n            console.log(err);\n        });\n\n        api.getUserInfo()\n        .then (user => {\n            this.setState({currentUser: user});\n        }).catch(err => {\n            this.setState({currentUser: this.createDefaultUser()});\n            console.log(err);\n        });\n    } \n\n    render () {\n        return (        \n            <div className=\"page\">\n                <CurrentUserContext.Provider value={this.state.currentUser}>\n                <Header link=\"/signin\" userEmail={this.props.userEmail} handleLogout={this.props.handleLogout} title=\"Выйти\"/>\n                <Main\n                    onEditAvatar={this.handleEditAvatarClick}\n                    onEditProfile={this.handleEditProfileClick}\n                    onAddPlace={this.handleAddPlaceClick}\n                    onCardClick={this.handleCardClick}\n                    cards={this.state.cards}\n                    onCardLike={this.handleCardLike}\n                    onCardDelete={this.handleCardDelete}\n                />\n\n                <ImagePopup card={this.state.selectedCard} onClose={this.closeAllPopups}>\n                </ImagePopup>\n\n                <EditProfilePopup  onUpdateUser={this.handleUpdateUser} isOpen={this.state.isEditProfilePopupOpen} onClose={this.closeAllPopups}>\n                </EditProfilePopup>\n\n                <AddPlacePopup onUpdatePlace={this.handleAddPlaceSubmit} isOpen={this.state.isAddPlacePopupOpen} onClose={this.closeAllPopups}>\n                </AddPlacePopup>\n\n                <PopupWithForm name=\"check\" title=\"Вы уверены?\" buttonName=\"Да\" isSubmitActive={true} isOpen={false} onClose={this.closeAllPopups}>\n                </PopupWithForm>\n\n                <EditAvatarPopup onUpdateAvatar={this.handleUpdateAvatar} isOpen={this.state.isEditAvatarPopupOpen} onClose={this.closeAllPopups}>\n                </EditAvatarPopup>\n\n                </CurrentUserContext.Provider>\n\n                <Footer />\n\n\n\n            </div>  \n        );\n    }\n\n\n    handleCardLike = (card) => {\n        const myLike = card.likes.find((like) => like._id === this.state.currentUser._id);\n        const promise = myLike ? api.dislikeCard(card._id) : api.likeCard(card._id);\n\n        promise.then((newCard) => {\n            const newCards = this.state.cards.map((c) => c._id === card._id ? newCard : c);\n            this.setState({cards: newCards});\n        });\n    }\n\n\n    handleCardDelete = (card) => {     \n        api.deleteCard(card._id)\n            .then(() => {\n                const newCards = this.state.cards.filter((c) => c._id !== card._id);\n                this.setState({cards: newCards});\n            }).catch(err => {\n                console.log(err);\n            });\n    }\n\n    handleAddPlaceSubmit = (name, link) => {\n        api.addNewCard(name, link)\n        .then ((newCard) =>{\n            console.log(newCard);\n            this.setState({cards:[...this.state.cards, newCard]}); \n        }).catch(err => {\n            console.log(err);\n        });\n\n        this.closeAllPopups();\n    }\n\n    \n    handleUpdateUser = ({name, about}) => {\n        api.updateUserInfo(name, about)\n        .then (user => {\n            this.setState({currentUser: user});\n        }).catch(err => {\n            this.setState({currentUser: this.createDefaultUser()});\n            console.log(err);\n        });\n        this.closeAllPopups();\n    }\n\n    handleUpdateAvatar = ({avatar}) => {\n        api.updateUserAvatar(avatar)\n        .then (user => {\n            this.setState({currentUser: user});\n        }).catch(err => {\n            this.setState({currentUser: this.createDefaultUser()});\n            console.log(err);\n        });\n        this.closeAllPopups();\n    } \n\n    handleEditAvatarClick = () => {\n        this.setState({ isEditAvatarPopupOpen: true });\n    }\n    \n    handleEditProfileClick = () => {\n        this.setState({ isEditProfilePopupOpen: true });\n    }\n    \n    handleAddPlaceClick = () => {\n        this.setState({ isAddPlacePopupOpen: true });\n    }\n\n    handleAddPlaceClick = () => {\n        this.setState({ isAddPlacePopupOpen: true });\n    }\n\n    handleCardClick =(card) => {\n        this.setState({selectedCard: card});\n    }\n\n    closeAllPopups = () => {\n        this.setState({ isEditProfilePopupOpen: false,\n            isAddPlacePopupOpen: false, \n            isEditAvatarPopupOpen: false,\n            selectedCard: null\n        });\n    }\n\n    createDefaultUser = () => {\n        return {\n            _id: -1,\n            name: 'No name',\n            about: 'No description',\n            avatar: FakeAvatarPath\n        };\n    }\n\n}\n\n\n\nexport default MyProfile;","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nfunction getResponseData(res) {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(new Error(`Ошибка: ${res.status}`));\n};\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n  .then( (res) => getResponseData(res))\n  .catch((err) => console.log(err));\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n  .then( (res) => getResponseData(res))\n  .then((res) => {\n    localStorage.setItem('jwt', res.token);\n    return res;  \n  })\n  .catch(err => console.log(err))\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n  .then( (res) => getResponseData(res))\n  .catch(err => console.log(err))\n}","import React from 'react'\n\nclass LoginForm extends React.Component {\n  render () {\n    return (\n\n      <section className=\"login\">\n        <form name={`popup-${this.props.name}-form`} method=\"get\" action=\"#\" className=\"login__form\" noValidate onSubmit={this.props.onSubmit}>\n          <h2 className=\"login__title\">{this.props.title}</h2>\n          <input id=\"username-input\" name=\"username\" type=\"text\" required minLength=\"2\" maxLength=\"40\"\n            placeholder=\"Email\"\n            className=\"login__input\"\n            onChange={this.props.onChange}\n          ></input>\n          <input id=\"prassword-input\" name=\"password\" type=\"password\" required minLength=\"2\" maxLength=\"200\"\n            placeholder=\"Пароль\"\n            className=\"login__input\"\n            onChange={this.props.onChange}\n          ></input>\n          <button type=\"submit\" className={' login__submit-button'}>{this.props.buttonName}</button>\n          {this.props.children}\n        </form>\n      </section>\n\n    )\n  }\n}\n\nexport default LoginForm\n","import React from 'react'\nimport { withRouter, Link } from 'react-router-dom'\nimport * as auth from '../auth.js'\nimport Header from './Header'\nimport LoginForm from './LoginForm'\n\nclass Login extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      username: '',\n      password: '',\n      isOpen: true\n    }\n    this.handleChange = this.handleChange.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  handleChange (e) {\n    const { name, value } = e.target\n    this.setState({\n      [name]: value\n    })\n  }\n\n  handleSubmit (e) {\n    e.preventDefault()\n    auth.authorize(this.state.username, this.state.password)\n      .then((data) => {\n        if (data.token) {\n          this.setState({ username: '', password: '' },\n            () => {\n              this.props.handleLogin()\n            })\n        }\n      })\n      .catch(err => console.log(err))\n  }\n\n  onCloseSignInPopup () {\n    this.props.onClose()\n    this.setState = {\n      username: '',\n      password: ''\n    }\n  }\n\n  render () {\n    return (\n      <div className=\"page\">\n        <Header link=\"/signup\" title=\"Регистрация\"/>\n\n        <LoginForm name=\"login\" title=\"Вход\" buttonName=\"Войти\" onChange={this.handleChange} onSubmit={this.handleSubmit}>\n          <div className=\"login__footer\">\n            <p className=\"login__footer-title\">Ещё не зарегистрированы?</p>\n            <Link to=\"/signup\" className=\"login__footer-link\">Регистрация</Link>\n          </div>\n        </LoginForm>\n\n      </div>\n\n    )\n  }\n}\n\nexport default withRouter(Login)\n","import React from 'react'\nimport closeButtonPath from '../images/close_button.svg'\nimport goodRegistrationPath from '../images/good_registration.svg'\nimport badRegistrationPath from '../images/bad_registration.svg'\n\nclass InfoTooltip extends React.Component {\n  render () {\n    return (\n      <section className={`popup ${this.props.isOpen ? 'popup_opened' : ''}`}>\n        <div className=\"popup__container form popup__registration-form\">\n          <img src={this.props.registered ? goodRegistrationPath : badRegistrationPath} alt=\"Регистрация\" className=\"popup__registration-image\"></img>\n          <h2 className=\"popup__title popup__registration-title\">{this.props.title}</h2>\n          <button aria-label=\"close\" type=\"button\" className=\"popup__close-button\" onClick={this.props.onClose} >\n            <img src={closeButtonPath} alt=\"Кнопка закрыть\" className=\"popup__close-button-image\"></img>\n          </button>\n        </div>\n      </section>\n\n    )\n  }\n}\n\nexport default InfoTooltip\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport Header from './Header';\nimport * as auth from '../auth.js';\nimport LoginForm from './LoginForm';\nimport InfoTooltip from './InfoTooltip';\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        username: '',\n        password: '',\n        isRegistrationPopupOpen: false,\n        infoTooltipTitle: null,\n        infoTooltipRegistered: false,\n\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange = (e) => {\n    const {name, value} = e.target;\n    this.setState({\n      [name]: value \n    });\n  }\n  \n  handleSubmit = (e) => {\n    e.preventDefault();\n    auth.register(this.state.username, this.state.password).then((res) => {\n      if (res) {\n        this.handleGoodRegistration();\n      } else {\n        console.log('Произошла ошибка.');\n        this.handleBadRegistration();\n      }\n    });\n    \n  }\n\n  handleClose = () => {\n    this.setState({ isRegistrationPopupOpen: false }, () => {this.props.history.push('/signin')})\n  }\n\n  handleGoodRegistration = () => {\n      \n    this.setState({ isRegistrationPopupOpen: true,\n        infoTooltipTitle: \"Вы успешно зарегистрировались!\",\n        infoTooltipRegistered: true })\n  }\n\n  handleBadRegistration = () => {\n    this.setState({ isRegistrationPopupOpen: true,\n      infoTooltipTitle: \"Что-то пошло не так! Попробуйте ещё раз.\",\n      infoTooltipRegistered: false })\n  }\n  \n  render(){\n    return (\n      <div className=\"page\">\n       <Header link=\"/signin\" title=\"Войти\" />\n\n       <LoginForm name=\"login\" title=\"Регистрация\" buttonName=\"Зарегистрироваться\"  onChange={this.handleChange} onSubmit={this.handleSubmit}>\n            <div className=\"login__footer\">\n            <p className=\"login__footer-title\">Уже зарегистрированы?</p>\n            <Link to=\"/signin\" className=\"login__footer-link\">Войти</Link>\n          </div>\n        </LoginForm>\n\n        <InfoTooltip title={this.state.infoTooltipTitle} isOpen={this.state.isRegistrationPopupOpen} registered={this.state.infoTooltipRegistered} onClose={this.handleClose}  />\n      </div>\n    );\n  }\n\n}\n\nexport default withRouter(Register);","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute\n","import React from 'react';\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom';\n\n\nimport MyProfile from './MyProfile';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip.js';\nimport * as auth from '../auth.js';\n\nimport '../index.css';\n\n\n\nclass App extends React.Component {\n\n\n    constructor(){\n        super();\n      \n        this.state = {\n            loggedIn: false,\n            UserData:{\n                email: \"email\"\n            }\n        }\n\n        this.handleLogin = this.handleLogin.bind(this);\n        this.handleTokenCheck = this.handleTokenCheck.bind(this);\n    }\n\n    componentDidMount() {\n        this.handleTokenCheck();\n    } \n\n    handleTokenCheck () {\n        if (localStorage.getItem('jwt')) {\n            const jwt = localStorage.getItem('jwt');\n            auth.checkToken(jwt).then((res) => {\n                if (res) {\n                    this.setState({\n                        loggedIn: true,\n                        UserData:{\n                            email: res.data.email\n                        }\n                    }, () => {\n                        this.props.history.push(\"/\");\n                    });\n                }\n            });\n        }\n    }\n\n    handleLogin = () => {\n        this.setState({\n            loggedIn: true\n        }, () => {this.handleTokenCheck()});\n    }\n\n    handleLogout = () => {\n        localStorage.removeItem('jwt');\n        this.setState({\n            loggedIn: false,\n            UserData:{\n                email: \"email\"\n            }\n        });\n    }\n\n    render() {\n        return (\n            <>\n                <main className=\"content\">\n                    <Switch>\n                        <ProtectedRoute path=\"/myprofile\" loggedIn={this.state.loggedIn} userEmail={this.state.UserData.email} handleLogout={this.handleLogout} component={MyProfile} />\n                       \n\n                        <Route path=\"/tips\" loggedIn={this.state.loggedIn} component={InfoTooltip} />\n\n                        <Route path=\"/signup\">\n                            <Register />\n                        </Route>\n\n                        <Route path=\"/signin\">\n                            <Login handleLogin={this.handleLogin} isOpen={this.state.isSignInPopupOpen} onClose={this.closeAllPopups} />\n                        </Route>\n\n                        <Route exact path=\"/\">\n                            {this.state.loggedIn ? <Redirect to=\"/myprofile\" /> : <Redirect to=\"/signin\" />}\n                        </Route>\n\n                    </Switch>\n                </main>\n            </>\n\n        );\n    }\n}    \n\nexport default withRouter(App);\n\n\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport App from './components/App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}