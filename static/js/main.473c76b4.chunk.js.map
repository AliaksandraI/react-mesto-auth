{"version":3,"sources":["images/close_button.svg","images/not_found.svg","images/logo.svg","images/good_registration.svg","images/bad_registration.svg","images/delete_button.svg","images/pen.svg","images/edit__button.svg","images/add__button.svg","images/гора_эльбрус.jpg","utils/Api.js","utils/Utils.js","components/Header.js","components/LoginForm.js","components/Login.js","components/InfoTooltip.js","components/Register.js","components/ProtectedRoute.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/MyProfile.js","components/history.js","utils/auth.js","components/App.js","index.js"],"names":["module","exports","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","Error","status","url","fetch","authorization","then","_getResponseData","_get","name","about","method","body","JSON","stringify","link","cardId","_updateCardLike","avatar","Header","className","href","src","logoPath","alt","props","userEmail","to","onClick","handleLogout","title","React","Component","withRouter","LoginForm","action","noValidate","onSubmit","id","type","required","minLength","maxLength","placeholder","onChange","buttonName","children","Login","state","username","password","isOpen","handleChange","bind","handleSubmit","e","target","value","setState","preventDefault","authorize","data","token","handleLogin","catch","err","console","log","onClose","InfoTooltip","registered","goodRegistrationPath","badRegistrationPath","aria-label","closeButtonPath","Register","register","handleGoodRegistration","handleBadRegistration","handleClose","isRegistrationPopupOpen","history","push","infoTooltipTitle","infoTooltipRegistered","ProtectedRoute","component","loggedIn","CurrentUserContext","createContext","Card","onImageNotFound","evt","onerror","notFoundImagePath","onCardClick","card","handleLikeClick","onCardLike","handleDeleteClick","onCardDelete","isOwnCard","owner","_id","context","isOwnLike","likes","find","like","key","onError","length","deleteButtonPath","contextType","Main","penPath","onEditAvatar","onEditProfile","editButtonPath","onAddPlace","addButtonPath","cards","map","currentUserId","Footer","PopupWithForm","isSubmitActive","EditProfilePopup","currentUser","useContext","useState","setName","description","setDescription","useEffect","event","onUpdateUser","pattern","EditAvatarPopup","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","onUpdatePlace","ImagePopup","MyProfile","Provider","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","handleCardClick","handleCardLike","handleCardDelete","selectedCard","closeAllPopups","handleUpdateUser","isEditProfilePopupOpen","handleAddPlaceSubmit","isAddPlacePopupOpen","handleUpdateAvatar","isEditAvatarPopupOpen","createBrowserHistory","BASE_URL","getResponseData","App","getInitialCards","getUserInfo","user","createDefaultUser","handleTokenCheck","localStorage","removeItem","UserData","email","setItem","auth","dislikeCard","likeCard","newCard","newCards","c","deleteCard","filter","addNewCard","updateUserInfo","updateUserAvatar","FakeAvatarPath","render","path","jwt","getItem","Authorization","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.473c76b4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/close_button.5df32a06.svg\";","module.exports = __webpack_public_path__ + \"static/media/not_found.908c20cb.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/good_registration.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/bad_registration.4072126c.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete_button.d8078343.svg\";","module.exports = __webpack_public_path__ + \"static/media/pen.d476a8b8.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit__button.b05083e5.svg\";","module.exports = __webpack_public_path__ + \"static/media/add__button.b2fce4ac.svg\";","module.exports = __webpack_public_path__ + \"static/media/гора_эльбрус.d6ed7639.jpg\";","import { apiConfig } from './Utils.js'\n\nexport class API {\n  constructor (options) {\n    this._baseUrl = options.baseUrl\n    this._headers = options.headers\n  }\n\n  _getResponseData (res) {\n    if (res.ok) {\n      return res.json()\n    }\n    return Promise.reject(new Error(`Ошибка: ${res.status}`))\n  }\n\n  _get (url) {\n    return fetch(`${this._baseUrl}/${url}`, {\n      headers: {\n        authorization: this._headers.authorization\n      }\n    })\n      .then(this._getResponseData)\n  }\n\n  getUserInfo () {\n    return this._get('users/me')\n  }\n\n  getInitialCards () {\n    return this._get('cards')\n  }\n\n  updateUserInfo (name, about) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    })\n      .then(this._getResponseData)\n  }\n\n  addNewCard (name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n      .then(this._getResponseData)\n  }\n\n  _updateCardLike (cardId, method) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: method,\n      headers: {\n        authorization: this._headers.authorization\n      }\n    })\n      .then(this._getResponseData)\n  }\n\n  likeCard (cardId) {\n    return this._updateCardLike(cardId, 'PUT')\n  }\n\n  dislikeCard (cardId) {\n    return this._updateCardLike(cardId, 'DELETE')\n  }\n\n  deleteCard (cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._headers.authorization\n      }\n    })\n      .then(this._getResponseData)\n  }\n\n  updateUserAvatar (link) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: link\n      })\n    })\n      .then(this._getResponseData)\n  }\n}\n\nconst api = new API(apiConfig)\n\nexport default api\n","export const validationOptions = {\n  formSelector: '.form',\n  inputSelector: '.form__input',\n  submitButtonSelector: '.form__submit',\n  inactiveButtonClass: 'form__submit_inactive'\n}\n\nexport const apiConfig = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-12',\n  headers: {\n    authorization: 'f4b731d6-2118-4fcc-9305-6dde1beafd26',\n    'Content-Type': 'application/json'\n  }\n}\n","import React from 'react'\nimport logoPath from '../images/logo.svg'\nimport { withRouter, Link } from 'react-router-dom'\n\nclass Header extends React.Component {\n  render () {\n    return (\n      <header className=\"header\">\n        <a href=\"http://\"><img src={logoPath} className=\"header__logo\" alt=\"логотип Mesto\"/></a>\n        <div className=\"header__menu-container\">\n          <p className=\"header__user\">{this.props.userEmail}</p>\n          <Link to={this.props.link} onClick={this.props.handleLogout} className=\"header__menu\">{this.props.title}</Link>\n        </div>\n      </header>\n    )\n  }\n}\n\nexport default withRouter(Header)\n","import React from 'react'\n\nclass LoginForm extends React.Component {\n  render () {\n    return (\n\n      <section className=\"login\">\n        <form name={`popup-${this.props.name}-form`} method=\"get\" action=\"#\" className=\"login__form\" noValidate onSubmit={this.props.onSubmit}>\n          <h2 className=\"login__title\">{this.props.title}</h2>\n          <input id=\"username-input\" name=\"username\" type=\"text\" required minLength=\"2\" maxLength=\"40\"\n            placeholder=\"Email\"\n            className=\"login__input\"\n            onChange={this.props.onChange}\n          ></input>\n          <input id=\"prassword-input\" name=\"password\" type=\"password\" required minLength=\"2\" maxLength=\"200\"\n            placeholder=\"Пароль\"\n            className=\"login__input\"\n            onChange={this.props.onChange}\n          ></input>\n          <button type=\"submit\" className={' login__submit-button'}>{this.props.buttonName}</button>\n          {this.props.children}\n        </form>\n      </section>\n\n    )\n  }\n}\n\nexport default LoginForm\n","import React from 'react'\nimport { withRouter, Link } from 'react-router-dom'\nimport Header from './Header'\nimport LoginForm from './LoginForm'\n\nclass Login extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      username: '',\n      password: '',\n      isOpen: true\n    }\n    this.handleChange = this.handleChange.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  handleChange (e) {\n    const { name, value } = e.target\n    this.setState({\n      [name]: value\n    })\n  }\n\n  handleSubmit (e) {\n    e.preventDefault()\n    this.props.authorize(this.state.username, this.state.password)\n      .then((data) => {\n        if (data.token) {\n          this.setState({ username: '', password: '' },\n            () => {\n              this.props.handleLogin()\n            })\n        }\n      })\n      .catch(err => console.log(err))\n  }\n\n  onCloseSignInPopup () {\n    this.props.onClose()\n    this.setState = {\n      username: '',\n      password: ''\n    }\n  }\n\n  render () {\n    return (\n      <div className=\"page\">\n        <Header link=\"/signup\" title=\"Регистрация\"/>\n\n        <LoginForm name=\"login\" title=\"Вход\" buttonName=\"Войти\" onChange={this.handleChange} onSubmit={this.handleSubmit}>\n          <div className=\"login__footer\">\n            <p className=\"login__footer-title\">Ещё не зарегистрированы?</p>\n            <Link to=\"/signup\" className=\"login__footer-link\">Регистрация</Link>\n          </div>\n        </LoginForm>\n\n      </div>\n\n    )\n  }\n}\n\nexport default withRouter(Login)\n","import React from 'react'\nimport closeButtonPath from '../images/close_button.svg'\nimport goodRegistrationPath from '../images/good_registration.svg'\nimport badRegistrationPath from '../images/bad_registration.svg'\n\nclass InfoTooltip extends React.Component {\n  render () {\n    return (\n      <section className={`popup ${this.props.isOpen ? 'popup_opened' : ''}`}>\n        <div className=\"popup__container form popup__registration-form\">\n          <img src={this.props.registered ? goodRegistrationPath : badRegistrationPath} alt=\"Регистрация\" className=\"popup__registration-image\"></img>\n          <h2 className=\"popup__title popup__registration-title\">{this.props.title}</h2>\n          <button aria-label=\"close\" type=\"button\" className=\"popup__close-button\" onClick={this.props.onClose} >\n            <img src={closeButtonPath} alt=\"Кнопка закрыть\" className=\"popup__close-button-image\"></img>\n          </button>\n        </div>\n      </section>\n\n    )\n  }\n}\n\nexport default InfoTooltip\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport Header from './Header';\nimport LoginForm from './LoginForm';\nimport InfoTooltip from './InfoTooltip';\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        username: '',\n        password: '',\n        isRegistrationPopupOpen: false,\n        infoTooltipTitle: null,\n        infoTooltipRegistered: false,\n\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange = (e) => {\n    const {name, value} = e.target;\n    this.setState({\n      [name]: value \n    });\n  }\n  \n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.register(this.state.username, this.state.password)\n    .then((res) => {\n        this.handleGoodRegistration();  \n      }\n    )\n    .catch((err) => {\n      console.log('Произошла ошибка.');\n      this.handleBadRegistration();\n    });\n    \n  }\n\n  handleClose = () => {\n    this.setState({ isRegistrationPopupOpen: false }, () => {this.props.history.push('/signin')})\n  }\n\n  handleGoodRegistration = () => {\n      \n    this.setState({ isRegistrationPopupOpen: true,\n        infoTooltipTitle: \"Вы успешно зарегистрировались!\",\n        infoTooltipRegistered: true })\n  }\n\n  handleBadRegistration = () => {\n    this.setState({ isRegistrationPopupOpen: true,\n      infoTooltipTitle: \"Что-то пошло не так! Попробуйте ещё раз.\",\n      infoTooltipRegistered: false })\n  }\n  \n  render(){\n    return (\n      <div className=\"page\">\n       <Header link=\"/signin\" title=\"Войти\" />\n\n       <LoginForm name=\"login\" title=\"Регистрация\" buttonName=\"Зарегистрироваться\"  onChange={this.handleChange} onSubmit={this.handleSubmit}>\n            <div className=\"login__footer\">\n            <p className=\"login__footer-title\">Уже зарегистрированы?</p>\n            <Link to=\"/signin\" className=\"login__footer-link\">Войти</Link>\n          </div>\n        </LoginForm>\n\n        <InfoTooltip title={this.state.infoTooltipTitle} isOpen={this.state.isRegistrationPopupOpen} registered={this.state.infoTooltipRegistered} onClose={this.handleClose}  />\n      </div>\n    );\n  }\n\n}\n\nexport default withRouter(Register);","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute\n","import React from 'react'\n\nexport const CurrentUserContext = React.createContext()\n","import React from 'react';\nimport deleteButtonPath from '../images/delete_button.svg';\nimport notFoundImagePath from '../images/not_found.svg';\nimport { CurrentUserContext} from '../contexts/CurrentUserContext';\n\nclass Card extends React.Component {\n\n    static contextType = CurrentUserContext;\n\n    onImageNotFound = (evt) => {\n        evt.target.onerror = null;\n        evt.target.src = notFoundImagePath;\n    }\n\n    onCardClick = () => {\n        this.props.onCardClick(this.props.card);\n    }\n\n    handleLikeClick = () => {\n        this.props.onCardLike(this.props.card);\n    }\n\n    handleDeleteClick = () => {\n        this.props.onCardDelete(this.props.card);\n    }\n\n    render () {\n        const isOwnCard = this.props.card.owner._id === this.context._id;\n        const isOwnLike = this.props.card.likes.find((like) => like._id === this.context._id);\n        return (\n            <div className=\"elements__item\" key={this.props.card._id}>\n                        <img onError={this.onImageNotFound} onClick={this.onCardClick} className=\"elements__item-picture\" alt=\"Картинка\" src={this.props.card.link}></img>\n                        <div className=\"elements__item-info\">\n                            <h2 className=\"elements__item-title\">{this.props.card.name}</h2>\n                            <div className=\"elements__likes-container\">\n                                <button aria-label=\"like\" type=\"button\" onClick={this.handleLikeClick} className={`elements__heart-button  ${isOwnLike ?  \"elements__heart-button_active\" : '' }  `}>\n                                </button>\n                                <p className=\"elements__likes\">{this.props.card.likes ? this.props.card.likes.length : 0}</p>\n                            </div>\n                        </div>\n                        <button aria-label=\"delete\" type=\"button\" onClick={this.handleDeleteClick} className={`elements__delete-button ${!isOwnCard ? 'elements__delete-button_inactive' : ''}`} >\n                            <img src={deleteButtonPath} alt=\"Знак корзины\"></img>\n                        </button>\n            </div>\n        );\n    }\n}    \n\n\nexport default Card;\n","import React from 'react';\n\nimport Card from './Card';\n\nimport penPath from '../images/pen.svg';\nimport notFoundImagePath from '../images/not_found.svg';\nimport editButtonPath from '../images/edit__button.svg';\nimport addButtonPath from '../images/add__button.svg';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\n\nclass Main extends React.Component {\n  \n    static contextType = CurrentUserContext;\n\n    onImageNotFound = (evt) => {\n        evt.target.onerror = null;\n        evt.target.src = notFoundImagePath;\n    }\n\n\n    render () {\n        \n        return (\n            <main className=\"content\">\n                <section className=\"profile\">\n                    <div className=\"profile__info\">\n                        <div className=\"profile__avatar\">\n                            <img src={penPath} className=\"profile_active\" alt=\" Изменение аватарки\"></img>\n                            <img src={this.context && this.context.avatar} \n                                onError={this.onImageNotFound} \n                                onClick={this.props.onEditAvatar} \n                                className=\"profile__image\" alt=\"Аватар\"></img>\n                        </div>\n                        <div>\n                            <div className=\"profile__name-container\">\n                                <h1 className=\"profile__name\">{this.context && this.context.name}</h1>\n                                <button aria-label=\"edit\" type=\"button\" \n                                onClick={this.props.onEditProfile} \n                                className=\"profile__edit-button\">\n                                    <img src={editButtonPath} alt=\"Кнопка изменения\"></img>\n                                </button>\n                            </div>\n                                <p className=\"profile__profession\">{this.context && this.context.about}</p>\n                        </div>\n                    </div>\n                    <button aria-label=\"add\" type=\"button\"\n                    onClick={this.props.onAddPlace}\n                    className=\"profile__add-button\">\n                        <img src={addButtonPath} className=\"profile__add-button-image\" alt=\"Кнопка добавления\"></img>\n                    </button>\n                </section>\n\n                <section className=\"elements\">\n                \n                    {this.props.cards.map((card) => (\n                        <Card  card={card} currentUserId={this.context && this.context._id} key={card._id} onCardClick={this.props.onCardClick} onCardLike={this.props.onCardLike} onCardDelete={this.props.onCardDelete}/>\n                        )\n                    )}\n\n                </section>\n\n\n            </main>\n        );\n    }\n\n}\n\n\n\n\n\n\nexport default Main;\n","import React from 'react'\n\nfunction Footer () {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__info\">&copy; 2020. Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer\n","import React from 'react'\nimport closeButtonPath from '../images/close_button.svg'\n\nclass PopupWithForm extends React.Component {\n  render () {\n    return (\n\n      <section className={`popup popup_${this.props.name} ${this.props.isOpen ? 'popup_opened' : ''}`}>\n        <form name={`popup-${this.props.name}-form`} method=\"get\" action=\"#\" className=\"popup__container form\" noValidate onSubmit={this.props.onSubmit}>\n          <h2 className=\"popup__title\">{this.props.title}</h2>\n          {this.props.children}\n          <button type=\"submit\" className={`popup__button form__submit ${this.props.isSubmitActive ? '' : 'form__submit_inactive'}`}>{this.props.buttonName}</button>\n          <button aria-label=\"close\" type=\"button\" className=\"popup__close-button\" onClick={this.props.onClose} >\n            <img src={closeButtonPath} alt=\"Кнопка закрыть\" className=\"popup__close-button-image\"></img>\n          </button>\n        </form>\n      </section>\n\n    )\n  }\n}\n\nexport default PopupWithForm\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup (props) {\n  const currentUser = React.useContext(CurrentUserContext)\n  const [name, setName] = React.useState('')\n  const [description, setDescription] = React.useState('')\n\n  React.useEffect(() => {\n    setName(currentUser.name)\n    setDescription(currentUser.about)\n  }, [currentUser])\n\n  function handleNameChange (event) {\n    setName(event.target.value)\n  }\n\n  function handleDescriptionChange (event) {\n    setDescription(event.target.value)\n  }\n\n  function handleSubmit (event) {\n    event.preventDefault()\n    props.onUpdateUser({\n      name,\n      about: description\n    })\n  }\n\n  function onCloseProfilePopup () {\n    props.onClose()\n    setName(currentUser.name)\n    setDescription(currentUser.about)\n  }\n\n  return (\n    <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" buttonName=\"Сохранить\" isSubmitActive={true} isOpen={props.isOpen} onClose={onCloseProfilePopup} onSubmit={handleSubmit}>\n      <input id=\"name-input\" type=\"text\" required minLength=\"2\" maxLength=\"40\"\n        pattern=\"[A-Za-zА-Яа-яЁё\\s\\-]+$\" placeholder=\"Имя\"\n        className=\"popup__text popup__text_type_name form__input\"\n        onChange={handleNameChange}\n        value={name}></input>\n      <span id=\"name-input-error\" className=\"form__input-error\"></span>\n      <input id=\"profession-input\" type=\"text\" required minLength=\"2\" maxLength=\"200\"\n        pattern=\"[A-Za-zА-Яа-яЁё\\s\\-,]+$\" placeholder=\"О себе\"\n        className=\"popup__text popup__text_type_profession form__input\"\n        onChange={handleDescriptionChange}\n        value={description}></input>\n      <span id=\"profession-input-error\" className=\"form__input-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup (props) {\n  const avatar = React.useRef()\n\n  function handleSubmit (event) {\n    event.preventDefault()\n    props.onUpdateAvatar({\n      avatar: avatar.current.value\n    })\n  }\n\n  return (\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" buttonName=\"Сохранить\" isSubmitActive={true} isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <input id=\"url-input\" type=\"url\" required placeholder=\"Ссылка на аватар\"\n        className=\"popup__text popup__text_type_link form__input\"\n        ref={avatar}></input>\n      <span id=\"url-input-error\" className=\"form__input-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup (props) {\n  const [name, setName] = React.useState('')\n  const [link, setLink] = React.useState('')\n\n  function handleNameChange (event) {\n    setName(event.target.value)\n  }\n\n  function handlelinkChange (event) {\n    setLink(event.target.value)\n  }\n\n  function handleSubmit (event) {\n    event.preventDefault()\n    props.onUpdatePlace(\n      name,\n      link\n    )\n  }\n\n  function onCloseProfilePopup () {\n    props.onClose()\n    setName('')\n    setLink('')\n  }\n\n  return (\n    <PopupWithForm name=\"card\" title=\"Новое место\" buttonName=\"Сохранить\" isSubmitActive={true} isOpen={props.isOpen} onClose={onCloseProfilePopup} onSubmit={handleSubmit}>\n      <input id=\"picture-input\" type=\"text\" required minLength=\"1\" maxLength=\"30\" placeholder=\"Название\"\n        className=\"popup__text popup__text_type_picture form__input\" onChange={handleNameChange}></input>\n      <span id=\"picture-input-error\" className=\"form__input-error\"></span>\n      <input id=\"url-input\" type=\"url\" required placeholder=\"Ссылка на картинку\"\n        className=\"popup__text popup__text_type_link form__input\" onChange={handlelinkChange}></input>\n      <span id=\"url-input-error\" className=\"form__input-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup\n","import React from 'react';\nimport closeButtonPath from '../images/close_button.svg';\nimport notFoundImagePath from '../images/not_found.svg';\n\nclass ImagePopup extends React.Component {\n    \n    onImageNotFound = (evt) => {\n        evt.target.onerror = null;\n        evt.target.src = notFoundImagePath;\n    }\n    \n    render () {\n        return (\n            <section className={`popup popup_picture ${this.props.card ? \"popup_opened\" : \"\"}`}>\n                    <div className=\"popup__container popup__container_picture\">\n                        <img src={this.props.card !== null ? this.props.card.link : \"\" } onError={this.onImageNotFound}\n                            alt=\"картинка\" className=\"popup__image\"></img>\n                        <h2 className=\"popup__title popup__title_picture\">{this.props.card !== null ? this.props.card.name : \"\" }</h2>\n                        <button aria-label=\"close\" type=\"button\" className=\"popup__close-button\" onClick={this.props.onClose}>\n                            <img src={closeButtonPath} alt=\"Кнопка закрыть\" className=\"popup__close-button-image\"></img>\n                        </button>\n                    </div>\n                </section>\n        );\n    }\n}    \n\n\n\nexport default ImagePopup;","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport { CurrentUserContext} from '../contexts/CurrentUserContext';\n\nimport '../index.css';\n\nclass MyProfile extends React.Component {\n    static contextType = CurrentUserContext;\n\n    render () {\n        return (        \n            <div className=\"page\">\n                <CurrentUserContext.Provider value={this.props.currentUser}>\n                <Header link=\"/signin\" userEmail={this.props.userEmail} handleLogout={this.props.handleLogout} title=\"Выйти\"/>\n                <Main\n                    onEditAvatar={this.props.handleEditAvatarClick}\n                    onEditProfile={this.props.handleEditProfileClick}\n                    onAddPlace={this.props.handleAddPlaceClick}\n                    onCardClick={this.props.handleCardClick}\n                    cards={this.props.cards}\n                    onCardLike={this.props.handleCardLike}\n                    onCardDelete={this.props.handleCardDelete}\n                />\n\n                <ImagePopup card={this.props.selectedCard} onClose={this.props.closeAllPopups}>\n                </ImagePopup>\n\n                <EditProfilePopup  onUpdateUser={this.props.handleUpdateUser} isOpen={this.props.isEditProfilePopupOpen} onClose={this.props.closeAllPopups}>\n                </EditProfilePopup>\n\n                <AddPlacePopup onUpdatePlace={this.props.handleAddPlaceSubmit} isOpen={this.props.isAddPlacePopupOpen} onClose={this.props.closeAllPopups}>\n                </AddPlacePopup>\n\n                <PopupWithForm name=\"check\" title=\"Вы уверены?\" buttonName=\"Да\" isSubmitActive={true} isOpen={false} onClose={this.props.closeAllPopups}>\n                </PopupWithForm>\n\n                <EditAvatarPopup onUpdateAvatar={this.props.handleUpdateAvatar} isOpen={this.props.isEditAvatarPopupOpen} onClose={this.props.closeAllPopups}>\n                </EditAvatarPopup>\n\n                </CurrentUserContext.Provider>\n\n                <Footer />\n\n            </div>  \n        );\n    }\n\n}\n\nexport default MyProfile;\n","import { createBrowserHistory } from 'history'\nexport default createBrowserHistory()\n","export const BASE_URL = 'https://auth.nomoreparties.co'\n\nfunction getResponseData (res) {\n  if (res.ok) {\n    return res.json()\n  }\n  return Promise.reject(new Error(`Ошибка: ${res.status}`))\n};\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((res) => getResponseData(res))\n}\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((res) => getResponseData(res))\n    .then((res) => {\n      localStorage.setItem('jwt', res.token)\n      return res\n    })\n}\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  })\n    .then((res) => getResponseData(res))\n    .catch(err => console.log(err))\n}\n","import React from 'react';\nimport { Route, Switch, Redirect, withRouter, BrowserRouter, Router } from 'react-router-dom';\n\nimport api from '../utils/Api';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip.js';\nimport MyProfile from './MyProfile'\nimport history from './history';\n\n\nimport FakeAvatarPath from '../images/гора_эльбрус.jpg';\nimport * as auth from '../utils/auth';\n\nclass App extends React.Component {\n\n\n    constructor() {\n        super();\n\n        this.state = {\n            loggedIn: false,\n            UserData: {\n                email: \"email\"\n            },\n            isEditProfilePopupOpen: false,\n            isAddPlacePopupOpen: false,\n            isEditAvatarPopupOpen: false,\n            selectedCard: null,\n            currentUser: this.createDefaultUser(),\n            cards: []\n        }\n\n        this.handleLogin = this.handleLogin.bind(this);\n        this.handleTokenCheck = this.handleTokenCheck.bind(this);\n    }\n\n    componentDidMount() {\n        this.handleTokenCheck();\n    }\n\n    getInitialCards = () => {\n        return api.getInitialCards()\n        .then(cards => {\n            this.setState({ cards: cards });\n        }).catch(err => {\n            console.log(err);\n        });\n    }\n\n    getUserInfo = () => {\n        return api.getUserInfo()\n        .then(user => {\n            this.setState({ currentUser: user });\n        }).catch(err => {\n            this.setState({ currentUser: this.createDefaultUser() });\n            console.log(err);\n        });\n    }\n\n    handleTokenCheck() {\n        const jwt = localStorage.getItem('jwt');\n        if (jwt) {\n            auth.checkToken(jwt).then((res) => {\n                if (res) {\n                    this.setState({\n                        loggedIn: true,\n                        UserData: {\n                            email: res.data.email\n                        }\n                    }, () => {\n                        history.push(\"/myprofile\");\n                        this.getUserInfo(); \n                        this.getInitialCards();\n                    });\n                }\n            });\n        }\n    }\n\n    handleLogin = () => {\n        this.setState({\n            loggedIn: true\n        }, () => { this.handleTokenCheck()});\n    }\n\n    handleLogout = () => {\n        localStorage.removeItem('jwt');\n        this.setState({\n            loggedIn: false,\n            UserData: {\n                email: \"email\"\n            }\n        });\n    }\n\n    \n    authorize = (username, password) => {\n        return auth.authorize(username, password)\n    }\n\n    register = (username, password) => {\n        return auth.register(username, password)\n    }\n\n    handleCardLike = (card) => {\n        console.log(card);\n        const myLike = card.likes.find((like) => like._id === this.state.currentUser._id);\n        const promise = myLike ? api.dislikeCard(card._id) : api.likeCard(card._id);\n\n        promise.then((newCard) => {\n            const newCards = this.state.cards.map((c) => c._id === card._id ? newCard : c);\n            this.setState({ cards: newCards });\n        });\n    }\n\n\n    handleCardDelete = (card) => {\n        api.deleteCard(card._id)\n            .then(() => {\n                const newCards = this.state.cards.filter((c) => c._id !== card._id);\n                this.setState({ cards: newCards });\n            }).catch(err => {\n                console.log(err);\n            });\n    }\n\n    handleAddPlaceSubmit = (name, link) => {\n        api.addNewCard(name, link)\n            .then((newCard) => {\n                console.log(newCard);\n                this.setState({ cards: [...this.state.cards, newCard] });\n            })\n            .then(() => {\n                this.closeAllPopups();\n            })\n            .catch(err => {\n                console.log(err);\n            });\n    }\n\n\n    handleUpdateUser = ({ name, about }) => {\n        api.updateUserInfo(name, about)\n            .then(user => {\n                this.setState({ currentUser: user });\n            })\n            .then(() => {\n                this.closeAllPopups();\n            })\n            .catch(err => {\n                this.setState({ currentUser: this.createDefaultUser() });\n                console.log(err);\n            });\n    }\n\n    handleUpdateAvatar = ({ avatar }) => {\n        api.updateUserAvatar(avatar)\n            .then(user => {\n                this.setState({ currentUser: user });\n            })\n            .then(() => {\n                this.closeAllPopups();\n            })\n            .catch(err => {\n                this.setState({ currentUser: this.createDefaultUser() });\n                console.log(err);\n            });\n    }\n\n    handleEditAvatarClick = () => {\n        this.setState({ isEditAvatarPopupOpen: true });\n    }\n\n    handleEditProfileClick = () => {\n        this.setState({ isEditProfilePopupOpen: true });\n    }\n\n    handleAddPlaceClick = () => {\n        this.setState({ isAddPlacePopupOpen: true });\n    }\n\n    handleAddPlaceClick = () => {\n        this.setState({ isAddPlacePopupOpen: true });\n    }\n\n    handleCardClick = (card) => {\n        this.setState({ selectedCard: card });\n    }\n\n    closeAllPopups = () => {\n        this.setState({\n            isEditProfilePopupOpen: false,\n            isAddPlacePopupOpen: false,\n            isEditAvatarPopupOpen: false,\n            selectedCard: null\n        });\n    }\n\n    createDefaultUser = () => {\n        return {\n            _id: -1,\n            name: 'No name',\n            about: 'No description',\n            avatar: FakeAvatarPath\n        };\n    }\n\n\n    render = () => {\n        return (\n            <Router history={history}>\n                <main className=\"content\">\n                    <Switch>\n                        <ProtectedRoute path=\"/myprofile\" \n                        currentUser={this.state.currentUser}\n                        loggedIn={this.state.loggedIn} \n                        userEmail={this.state.UserData.email} \n                        handleLogout={this.handleLogout} \n                        handleEditAvatarClick={this.handleEditAvatarClick}\n                        handleEditProfileClick={this.handleEditProfileClick}\n                        handleAddPlaceClick={this.handleAddPlaceClick}\n                        handleCardClick={this.handleCardClick}\n                        cards={this.state.cards}\n                        handleCardLike={this.handleCardLike}\n                        handleCardDelete={this.handleCardDelete}\n                        selectedCard={this.state.selectedCard}\n                        closeAllPopups={this.closeAllPopups}\n                        handleUpdateUser={this.handleUpdateUser}\n                        isEditProfilePopupOpen={this.state.isEditProfilePopupOpen}\n                        handleAddPlaceSubmit={this.handleAddPlaceSubmit}\n                        isAddPlacePopupOpen={this.state.isAddPlacePopupOpen}\n                        onUpdateAvatar={this.handleUpdateAvatar}\n                        isEditAvatarPopupOpen={this.state.isEditAvatarPopupOpen}\n                        getInitialCards = {this.getInitialCards}\n                        getUserInfo = {this.getUserInfo}\n                        component={MyProfile} /> \n\n                        <Route path=\"/tips\" loggedIn={this.state.loggedIn} component={InfoTooltip} />\n\n                        <Route path=\"/signup\">\n                            <Register register={this.register} />\n                        </Route>\n\n                        <Route path=\"/signin\">\n                            <Login handleLogin={this.handleLogin} authorize={this.authorize} onClose={this.closeAllPopups} />\n                        </Route>\n\n                        <Route path=\"*\">\n                            { this.state.loggedIn ? <Redirect to=\"/myprofile\" /> : <Redirect to=\"/signin\" /> }\n                        </Route>\n\n                    </Switch>\n                </main>\n            </Router>\n        );\n    }\n}\n\nexport default withRouter(App);\n\n\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport App from './components/App'\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}